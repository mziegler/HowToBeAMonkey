{"version":3,"file":"scripts.js.ugly","sources":["../src/js/map.js","../src/js/mediaoverlay.js","../src/js/mapmedia.js","../src/js/mapbubbles.js","../src/js/introscreens.js","../src/js/headercontrols.js","../src/js/tour.js"],"names":["initMap","zoomHandle","lastZoom","previousZoom","map","getZoom","closePopup","removeLayer","track","rioCabuyo","rioPizote","addLayer","monkeyfaceMarker","setView","tour","getTourStop","loc","setZoom","initialView","L","maxZoom","zoomControl","attributionControl","maxBounds","latLngBounds","tileLayer","maxNativeZoom","opacity","addTo","polyline","media","cabuyoPoints","color","weight","lineJoin","lineCap","pizotePoints","WHtrack","dashArray","popupWidth","fullWidth","width","mapSize","getSize","x","currentPopup","on","event","popup","options","minWidth","maxWidth","update","hasLayer","control","zoom","position","scale","marker","icon","iconUrl","iconSize","iconAnchor","initMediaOverlay","closeOverlay","$","fadeOut","clearOverlay","empty","removeClass","addClass","off","show","openOverlay","imageLoaded","doneOpening","title","html","caption","picture","img","animate","scrollTop","prop","attr","append","hideNextButton","hide","nextButtonCallback","fadeIn","click","initMapMedia","popupLoc","bubbleElem","bubbleRadius","mapOffset","offset","iconOffset","containerPoint","point","left","top","containerPointToLatLng","openTextPopup","bubbleData","element","openPopup","replace","text","Math","min","r","value","className","keepInView","headerControls","closeSidePanel","popupHTML","points","category","categories","name","sort","a","b","rank","topPoints","topPointsSet","i","length","hasOwnProperty","push","time","localeCompare","openBehaviorPopup","observations","openPicture","mediaOverlay","uri","delegate","initMapBubbles","uniqueIDGenerator","uniqueIDCounter","sortBubbles","clusterMarkers","insertRandom","obj","randomIndex","floor","random","sortedBubbles","splice","bubbleGroups","video","behavior","each","observation","type","start","end","categoryGroups","g","cats","count","score","cat","group","scoreSum","tour_ids","ob","tour_id","medianTime","max","children","item","renderText","padding","container","el","split","line","dy","text-anchor","bb","getBBox","height","widthTransform","heightTransform","renderBubbleIcon","G","clipPath","d","mapMedia","this","updateSlider","d3","stopPropagation","registerIcon","bubbleSVG","clusterdata","containerSelection","bubble","layout","pack","size","clusterDiameter","svg","node","selectAll","data","nodes","filter","enter","y","thisNode","select","clipID","selectBubbleAnimation","unselectBubbleAnimation","loadBubbleMedia","clusterLayer","HexBinLayer","registerMarker","pictures","cap","textbubbles","textbubble","startPopup","tourlist","endPopup","renderLoc","_hexBinLayer","cluster","locToCluster","datum","parentNode","insert","classed","transition","duration","remove","clusterMargin","hexBinBounds","bottom","right","Class","extend","initialize","_layout","hexbin","_markers","_hexCenters","_el","onAdd","_map","getPanes","overlayPane","_moveend","_reset","onRemove","removeChild","_createHexClusters","bounds","getBounds","pad","contains","layerPointToLatLng","lng","radius","style","latLngToLayerPoint","clusterCoords","j","getJSON","done","initIntroScreens","closeIntro","callback","openIntro","secondIntroScreen","setTimeout","resetIntro","initHeaderControls","toggleSidePanel","contentSelector","is","menuButtonOpen","menuButtonClosed","introScreens","initTour","tourID","isInDom","root","parents","document","documentElement","Number","slider","noUiSlider","get","openSelectedIcon","tourStop","note","mapBubbles","lastOpenIcon","dispatchEvent","MouseEvent","tourNext","set","sliderIndex","getElementById","create","range","connect","step","tooltips","to","val","undefined","FontFaceOnload","success","FastClick","attach","body"],"mappings":"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"}