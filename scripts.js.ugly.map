{"version":3,"file":"scripts.js.ugly","sources":["../src/js/map.js","../src/js/mediaoverlay.js","../src/js/mapmedia.js","../src/js/mapbubbles.js","../src/js/introscreens.js","../src/js/headercontrols.js","../src/js/tour.js"],"names":["initMap","startTourTransition","onTourTransition","endTourTransition","showFloatingNext","$","fadeIn","hideFloatingNext","fadeOut","zoomHandle","lastZoom","previousZoom","map","getZoom","closePopup","removeLayer","track","rioCabuyo","rioPizote","addLayer","monkeyfaceMarker","setView","tour","getTourStop","loc","setZoom","initialView","L","maxZoom","zoomControl","attributionControl","maxBounds","latLngBounds","tileLayer","maxNativeZoom","opacity","addTo","polyline","media","cabuyoPoints","color","weight","lineJoin","lineCap","pizotePoints","WHtrack","dashArray","popupWidth","fullWidth","width","mapSize","getSize","x","currentPopup","on","event","popup","options","minWidth","maxWidth","update","hasLayer","control","zoom","position","scale","marker","icon","iconUrl","iconSize","iconAnchor","initMediaOverlay","closeOverlay","empty","clearOverlay","removeClass","off","tourNext","show","resizeVideo","mediaWidth","attr","height","openOverlay","imageLoaded","doneOpening","title","html","addClass","bigtitle","caption","picture","img","animate","scrollTop","Math","max","append","video","iframe","player","$f","addEvent","prop","hideNextButton","hide","nextButtonCallback","click","stopPropagation","window","initMapMedia","popupLoc","bubbleElem","bubbleRadius","mapOffset","offset","iconOffset","containerPoint","point","left","top","containerPointToLatLng","popupPaddingTopLeft","length","popupPaddingBottomRight","openTextPopup","bubbleData","element","openPopup","text","min","r","value","className","keepInView","autoPanPaddingTopLeft","autoPanPaddingBottomRight","headerControls","closeSidePanel","popupHTML","points","category","categories","name","sort","a","b","rank","topPoints","topPointsSet","i","hasOwnProperty","push","time","localeCompare","openBehaviorPopup","observations","openPicture","mediaOverlay","uri","openVideo","delegate","initMapBubbles","uniqueIDGenerator","uniqueIDCounter","generateClipCircle","parent","clipID","clipPath","sortBubbles","clusterMarkers","insertRandom","obj","randomIndex","floor","random","sortedBubbles","splice","bubbleGroups","behavior","each","observation","type","start","end","categoryGroups","g","cats","count","score","cat","group","scoreSum","tour_ids","ob","tour_id","medianTime","children","item","renderText","padding","container","bottom","el","split","line","dy","text-anchor","bb","getBBox","widthTransform","heightTransform","renderBubbleIcon","G","ititle","d","mapMedia","this","updateSlider","d3","thumbnail","registerIcon","bubbleSVG","clusterdata","containerSelection","bubble","layout","pack","size","clusterDiameter","svg","node","selectAll","data","nodes","filter","enter","y","thisNode","select","selectBubbleAnimation","unselectBubbleAnimation","loadBubbleMedia","clusterLayer","HexBinLayer","registerMarker","pictures","cap","videos","thumb","textbubbles","textbubble","startPopup","tourlist","endPopup","renderLoc","_hexBinLayer","cluster","locToCluster","datum","parentNode","insert","classed","transition","duration","remove","clusterMargin","hexBinBounds","right","Class","extend","initialize","_layout","hexbin","_markers","_hexCenters","_el","onAdd","_map","getPanes","overlayPane","_moveend","_reset","onRemove","removeChild","_createHexClusters","bounds","getBounds","pad","contains","layerPointToLatLng","lng","radius","style","latLngToLayerPoint","clusterCoords","j","getJSON","done","initIntroScreens","closeIntro","callback","openIntro","secondIntroScreen","setTimeout","resetIntro","initHeaderControls","toggleSidePanel","contentSelector","is","menuButtonOpen","menuButtonClosed","introScreens","initTour","tourID","panToBubble","isInDom","root","parents","document","documentElement","Number","slider","noUiSlider","get","openSelectedIcon","tourStop","note","mapBubbles","lastOpenIcon","panTo","dispatchEvent","MouseEvent","set","sliderIndex","getElementById","create","range","connect","step","tooltips","to","val","undefined","substr","FontFaceOnload","success","FastClick","attach","body"],"mappings":"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"}