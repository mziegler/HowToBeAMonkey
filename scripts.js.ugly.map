{"version":3,"file":"scripts.js.ugly","sources":["../src/js/map.js","../src/js/mediaoverlay.js","../src/js/mapmedia.js","../src/js/mapbubbles.js","../src/js/introscreens.js","../src/js/headercontrols.js","../src/js/tour.js"],"names":["initMap","zoomHandle","lastZoom","previousZoom","map","getZoom","closePopup","removeLayer","track","rioCabuyo","rioPizote","addLayer","monkeyfaceMarker","setView","tour","getTourStop","loc","setZoom","initialView","L","maxZoom","zoomControl","attributionControl","maxBounds","latLngBounds","tileLayer","maxNativeZoom","opacity","addTo","polyline","media","cabuyoPoints","color","weight","lineJoin","lineCap","pizotePoints","WHtrack","dashArray","popupWidth","fullWidth","width","mapSize","getSize","x","currentPopup","on","event","popup","options","minWidth","maxWidth","update","hasLayer","control","zoom","position","scale","marker","icon","iconUrl","iconSize","iconAnchor","initMediaOverlay","closeOverlay","$","fadeOut","empty","clearOverlay","removeClass","addClass","off","show","resizeVideo","mediaWidth","attr","height","openOverlay","imageLoaded","doneOpening","title","html","bigtitle","caption","picture","img","animate","scrollTop","prop","append","video","iframe","player","$f","addEvent","hideNextButton","hide","nextButtonCallback","fadeIn","click","window","initMapMedia","popupLoc","bubbleElem","bubbleRadius","mapOffset","offset","iconOffset","containerPoint","point","left","top","containerPointToLatLng","popupPaddingTopLeft","length","popupPaddingBottomRight","openTextPopup","bubbleData","element","openPopup","replace","text","Math","min","r","value","className","keepInView","autoPanPaddingTopLeft","autoPanPaddingBottomRight","headerControls","closeSidePanel","popupHTML","points","category","categories","name","sort","a","b","rank","topPoints","topPointsSet","i","hasOwnProperty","push","time","localeCompare","openBehaviorPopup","observations","openPicture","mediaOverlay","uri","openVideo","delegate","initMapBubbles","uniqueIDGenerator","uniqueIDCounter","sortBubbles","clusterMarkers","insertRandom","obj","randomIndex","floor","random","sortedBubbles","splice","bubbleGroups","behavior","each","observation","type","start","end","categoryGroups","g","cats","count","score","cat","group","scoreSum","tour_ids","ob","tour_id","medianTime","max","children","item","renderText","padding","container","el","split","line","dy","text-anchor","bb","getBBox","widthTransform","heightTransform","renderBubbleIcon","G","clipPath","d","mapMedia","this","updateSlider","d3","stopPropagation","thumbnail","registerIcon","bubbleSVG","clusterdata","containerSelection","bubble","layout","pack","size","clusterDiameter","svg","node","selectAll","data","nodes","filter","enter","y","thisNode","select","clipID","selectBubbleAnimation","unselectBubbleAnimation","loadBubbleMedia","clusterLayer","HexBinLayer","registerMarker","pictures","cap","videos","thumb","short_title","smtitle","textbubbles","textbubble","startPopup","tourlist","endPopup","renderLoc","_hexBinLayer","cluster","locToCluster","datum","parentNode","insert","classed","transition","duration","remove","clusterMargin","hexBinBounds","bottom","right","Class","extend","initialize","_layout","hexbin","_markers","_hexCenters","_el","onAdd","_map","getPanes","overlayPane","_moveend","_reset","onRemove","removeChild","_createHexClusters","bounds","getBounds","pad","contains","layerPointToLatLng","lng","radius","style","latLngToLayerPoint","clusterCoords","j","getJSON","done","initIntroScreens","closeIntro","callback","openIntro","secondIntroScreen","setTimeout","resetIntro","initHeaderControls","toggleSidePanel","contentSelector","is","menuButtonOpen","menuButtonClosed","introScreens","initTour","tourID","panToBubble","isInDom","root","parents","document","documentElement","Number","slider","noUiSlider","get","openSelectedIcon","tourStop","note","mapBubbles","lastOpenIcon","panTo","dispatchEvent","MouseEvent","tourNext","set","sliderIndex","getElementById","create","range","connect","step","tooltips","to","val","undefined","substr","FontFaceOnload","success","FastClick","attach","body"],"mappings":"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"}