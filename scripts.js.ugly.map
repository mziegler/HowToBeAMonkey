{"version":3,"file":"scripts.js.ugly","sources":["../src/js/map.js","../src/js/mediaoverlay.js","../src/js/mapmedia.js","../src/js/mapbubbles.js","../src/js/introscreens.js","../src/js/headercontrols.js","../src/js/tour.js"],"names":["initMap","zoomHandle","lastZoom","previousZoom","map","getZoom","closePopup","removeLayer","track","rioCabuyo","rioPizote","addLayer","monkeyfaceMarker","setView","tour","getTourStop","loc","setZoom","initialView","L","maxZoom","zoomControl","attributionControl","maxBounds","latLngBounds","tileLayer","maxNativeZoom","opacity","addTo","polyline","media","cabuyoPoints","color","weight","lineJoin","lineCap","pizotePoints","WHtrack","dashArray","popupWidth","fullWidth","width","mapSize","getSize","x","currentPopup","on","event","popup","options","minWidth","maxWidth","update","hasLayer","control","zoom","position","scale","marker","icon","iconUrl","iconSize","iconAnchor","initMediaOverlay","closeOverlay","$","fadeOut","clearOverlay","empty","removeClass","addClass","off","show","resizeVideo","mediaWidth","attr","height","openOverlay","imageLoaded","doneOpening","title","html","bigtitle","caption","picture","img","animate","scrollTop","prop","append","video","iframe","hideNextButton","hide","nextButtonCallback","fadeIn","click","window","initMapMedia","popupLoc","bubbleElem","bubbleRadius","mapOffset","offset","iconOffset","containerPoint","point","left","top","containerPointToLatLng","openTextPopup","bubbleData","element","openPopup","replace","text","Math","min","r","value","className","keepInView","headerControls","closeSidePanel","popupHTML","points","category","categories","name","sort","a","b","rank","topPoints","topPointsSet","i","length","hasOwnProperty","push","time","localeCompare","openBehaviorPopup","observations","openPicture","mediaOverlay","uri","openVideo","delegate","initMapBubbles","uniqueIDGenerator","uniqueIDCounter","sortBubbles","clusterMarkers","insertRandom","obj","randomIndex","floor","random","sortedBubbles","splice","bubbleGroups","behavior","each","observation","type","start","end","categoryGroups","g","cats","count","score","cat","group","scoreSum","tour_ids","ob","tour_id","medianTime","max","children","item","renderText","padding","container","el","split","line","dy","text-anchor","bb","getBBox","widthTransform","heightTransform","renderBubbleIcon","G","clipPath","d","mapMedia","this","updateSlider","d3","stopPropagation","thumbnail","registerIcon","bubbleSVG","clusterdata","containerSelection","bubble","layout","pack","size","clusterDiameter","svg","node","selectAll","data","nodes","filter","enter","y","thisNode","select","clipID","selectBubbleAnimation","unselectBubbleAnimation","loadBubbleMedia","clusterLayer","HexBinLayer","registerMarker","pictures","cap","videos","thumb","short_title","smtitle","textbubbles","textbubble","startPopup","tourlist","endPopup","renderLoc","_hexBinLayer","cluster","locToCluster","datum","parentNode","insert","classed","transition","duration","remove","clusterMargin","hexBinBounds","bottom","right","Class","extend","initialize","_layout","hexbin","_markers","_hexCenters","_el","onAdd","_map","getPanes","overlayPane","_moveend","_reset","onRemove","removeChild","_createHexClusters","bounds","getBounds","pad","contains","layerPointToLatLng","lng","radius","style","latLngToLayerPoint","clusterCoords","j","getJSON","done","initIntroScreens","closeIntro","callback","openIntro","secondIntroScreen","setTimeout","resetIntro","initHeaderControls","toggleSidePanel","contentSelector","is","menuButtonOpen","menuButtonClosed","introScreens","initTour","tourID","isInDom","root","parents","document","documentElement","Number","slider","noUiSlider","get","openSelectedIcon","tourStop","note","mapBubbles","lastOpenIcon","dispatchEvent","MouseEvent","tourNext","set","sliderIndex","getElementById","create","range","connect","step","tooltips","to","val","undefined","substr","FontFaceOnload","success","FastClick","attach","body"],"mappings":"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"}