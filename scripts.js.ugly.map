{"version":3,"file":"scripts.js.ugly","sources":["../src/js/map.js","../src/js/mediaoverlay.js","../src/js/mapmedia.js","../src/js/mapbubbles.js","../src/js/introscreens.js","../src/js/headercontrols.js","../src/js/tour.js"],"names":["initMap","startTourTransition","onTourTransition","endTourTransition","showFloatingNext","$","fadeIn","hideFloatingNext","fadeOut","zoomHandle","lastZoom","previousZoom","map","getZoom","closePopup","removeLayer","track","rioCabuyo","rioPizote","addLayer","monkeyfaceMarker","setView","tour","getTourStop","loc","setZoom","initialView","L","maxZoom","zoomControl","attributionControl","maxBounds","latLngBounds","tileLayer","maxNativeZoom","opacity","addTo","polyline","media","cabuyoPoints","color","weight","lineJoin","lineCap","pizotePoints","WHtrack","dashArray","popupWidth","fullWidth","width","mapSize","getSize","x","currentPopup","on","event","popup","options","minWidth","maxWidth","update","hasLayer","control","zoom","position","scale","marker","icon","iconUrl","iconSize","iconAnchor","initMediaOverlay","closeOverlay","empty","clearOverlay","removeClass","off","tourNext","show","resizeVideo","mediaWidth","attr","height","openOverlay","imageLoaded","doneOpening","title","html","addClass","bigtitle","caption","picture","img","animate","scrollTop","prop","append","video","iframe","player","$f","addEvent","hideNextButton","hide","nextButtonCallback","click","stopPropagation","window","initMapMedia","popupLoc","bubbleElem","bubbleRadius","mapOffset","offset","iconOffset","containerPoint","point","left","top","containerPointToLatLng","popupPaddingTopLeft","length","popupPaddingBottomRight","openTextPopup","bubbleData","element","openPopup","text","Math","min","r","value","className","keepInView","autoPanPaddingTopLeft","autoPanPaddingBottomRight","headerControls","closeSidePanel","popupHTML","points","category","categories","name","sort","a","b","rank","topPoints","topPointsSet","i","hasOwnProperty","push","time","localeCompare","openBehaviorPopup","observations","openPicture","mediaOverlay","uri","openVideo","delegate","initMapBubbles","uniqueIDGenerator","uniqueIDCounter","generateClipCircle","parent","clipID","clipPath","sortBubbles","clusterMarkers","insertRandom","obj","randomIndex","floor","random","sortedBubbles","splice","bubbleGroups","behavior","each","observation","type","start","end","categoryGroups","g","cats","count","score","cat","group","scoreSum","tour_ids","ob","tour_id","medianTime","max","children","item","renderText","padding","container","bottom","el","split","line","dy","text-anchor","bb","getBBox","widthTransform","heightTransform","renderBubbleIcon","G","ititle","d","mapMedia","this","updateSlider","d3","thumbnail","registerIcon","bubbleSVG","clusterdata","containerSelection","bubble","layout","pack","size","clusterDiameter","svg","node","selectAll","data","nodes","filter","enter","y","thisNode","select","selectBubbleAnimation","unselectBubbleAnimation","loadBubbleMedia","clusterLayer","HexBinLayer","registerMarker","pictures","cap","videos","thumb","textbubbles","textbubble","startPopup","tourlist","endPopup","renderLoc","_hexBinLayer","cluster","locToCluster","datum","parentNode","insert","classed","transition","duration","remove","clusterMargin","hexBinBounds","right","Class","extend","initialize","_layout","hexbin","_markers","_hexCenters","_el","onAdd","_map","getPanes","overlayPane","_moveend","_reset","onRemove","removeChild","_createHexClusters","bounds","getBounds","pad","contains","layerPointToLatLng","lng","radius","style","latLngToLayerPoint","clusterCoords","j","getJSON","done","initIntroScreens","closeIntro","callback","openIntro","secondIntroScreen","setTimeout","resetIntro","initHeaderControls","toggleSidePanel","contentSelector","is","menuButtonOpen","menuButtonClosed","introScreens","initTour","tourID","panToBubble","isInDom","root","parents","document","documentElement","Number","slider","noUiSlider","get","openSelectedIcon","tourStop","note","mapBubbles","lastOpenIcon","panTo","dispatchEvent","MouseEvent","set","sliderIndex","getElementById","create","range","connect","step","tooltips","to","val","undefined","substr","FontFaceOnload","success","FastClick","attach","body"],"mappings":"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"}