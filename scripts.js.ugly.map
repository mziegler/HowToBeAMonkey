{"version":3,"file":"scripts.js.ugly","sources":["../src/js/map.js","../src/js/mediaoverlay.js","../src/js/mapmedia.js","../src/js/mapbubbles.js","../src/js/introscreens.js","../src/js/headercontrols.js","../src/js/tour.js"],"names":["initMap","zoomHandle","lastZoom","previousZoom","map","getZoom","closePopup","removeLayer","track","rioCabuyo","rioPizote","addLayer","monkeyfaceMarker","setView","tour","getTourStop","loc","setZoom","initialView","L","maxZoom","zoomControl","attributionControl","maxBounds","latLngBounds","tileLayer","opacity","addTo","polyline","media","cabuyoPoints","color","weight","lineJoin","lineCap","pizotePoints","WHtrack","dashArray","popupWidth","fullWidth","width","mapSize","getSize","x","currentPopup","on","event","popup","options","minWidth","maxWidth","update","hasLayer","control","zoom","position","scale","marker","icon","iconUrl","iconSize","iconAnchor","initMediaOverlay","closeOverlay","$","fadeOut","openOverlay","title","caption","picture","video","hideNextButton","html","addClass","hide","show","fadeIn","animate","scrollTop","prop","click","initMapMedia","popupLoc","bubbleElem","bubbleRadius","mapOffset","offset","iconOffset","containerPoint","point","left","top","containerPointToLatLng","openTextPopup","bubbleData","element","openPopup","replace","text","Math","min","r","value","className","keepInView","headerControls","closeSidePanel","popupHTML","points","category","categories","name","sort","a","b","rank","topPoints","topPointsSet","i","length","hasOwnProperty","push","time","localeCompare","openBehaviorPopup","observations","openPicture","mediaOverlay","uri","delegate","initMapBubbles","uniqueIDGenerator","uniqueIDCounter","sortBubbles","clusterMarkers","insertRandom","obj","randomIndex","floor","random","sortedBubbles","splice","bubbleGroups","behavior","each","observation","type","start","end","categoryGroups","g","cats","count","score","cat","group","scoreSum","tour_ids","ob","tour_id","medianTime","max","children","item","renderText","padding","container","el","append","attr","split","line","dy","text-anchor","bb","getBBox","height","widthTransform","heightTransform","renderBubbleIcon","G","clipPath","d","mapMedia","this","updateSlider","d3","stopPropagation","registerIcon","bubbleSVG","clusterdata","containerSelection","bubble","layout","pack","size","clusterDiameter","svg","node","selectAll","data","nodes","filter","enter","y","thisNode","select","clipID","selectBubbleAnimation","unselectBubbleAnimation","loadBubbleMedia","clusterLayer","HexBinLayer","registerMarker","pictures","cap","textbubbles","textbubble","startPopup","tourlist","endPopup","renderLoc","_hexBinLayer","cluster","locToCluster","datum","parentNode","insert","classed","transition","duration","remove","clusterMargin","hexBinBounds","bottom","right","Class","extend","initialize","_layout","hexbin","_markers","_hexCenters","_el","onAdd","_map","getPanes","overlayPane","_moveend","_reset","onRemove","removeChild","off","_createHexClusters","bounds","getBounds","pad","empty","contains","layerPointToLatLng","lng","radius","style","latLngToLayerPoint","clusterCoords","j","getJSON","done","initIntroScreens","closeIntro","callback","skipIntro","tourNext","resetIntro","setTimeout","initHeaderControls","toggleSidePanel","contentSelector","is","menuButtonOpen","menuButtonClosed","removeClass","introScreens","initTour","tourID","isInDom","root","parents","document","documentElement","Number","slider","noUiSlider","get","openSelectedIcon","tourStop","note","mapBubbles","lastOpenIcon","dispatchEvent","MouseEvent","set","sliderIndex","getElementById","create","range","connect","step","tooltips","to","val","undefined","FontFaceOnload","success"],"mappings":"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"}